<div class="container d-flex justify-content-center align-items-center vh-100 px-3">
  <div class="card p-4 shadow-lg border-0 w-100" style="max-width: 600px; border-radius: 15px;">
    
    <h3 class="text-center mb-4 text-primary fw-bold">
      <i class="bi bi-shield-lock"></i> Réinitialisation du mot de passe
    </h3>

    <form [formGroup]="forgotPasswordForm" (ngSubmit)="submit()">
      
      <!-- Choix de la méthode -->
      <div class="mb-3">
        <label class="form-label fw-bold">Choisissez une méthode :</label>
        <div class="row row-cols-1 row-cols-md-2 g-2">
          <div class="col">
            <div class="form-check d-flex align-items-center gap-2">
              <input class="form-check-input" type="radio" id="emailChoice" formControlName="resetMethod" value="email" (change)="onChoiceChange('email')"/>
              <label for="emailChoice" class="form-check-label">E-mail</label>
            </div>
          </div>
          <div class="col">
            <div class="form-check d-flex align-items-center gap-2">
              <input class="form-check-input" type="radio" id="phoneChoice" formControlName="resetMethod" value="phone" (change)="onChoiceChange('phone')"/>
              <label for="phoneChoice" class="form-check-label">Téléphone</label>
            </div>
          </div>
        </div>
      </div>

      <!-- Champ E-mail -->
      <div *ngIf="selectedMethod === 'email'" class="mb-3">
        <label class="form-label fw-bold">Adresse e-mail</label>
        <div class="input-group">
          <span class="input-group-text bg-light"><i class="bi bi-envelope text-primary"></i></span>
          <input type="email" class="form-control shadow-sm" formControlName="email" placeholder="Entrez votre adresse e-mail" required/>
        </div>
      </div>

      <!-- Champ Téléphone -->
      <div *ngIf="selectedMethod === 'phone'" class="mb-3">
        <label class="form-label fw-bold">Numéro de téléphone</label>
        <div class="input-group">
          <span class="input-group-text bg-light"><i class="bi bi-telephone text-primary"></i></span>
          <input type="tel" class="form-control shadow-sm" formControlName="phoneNumber" placeholder="Entrez votre numéro de téléphone" required/>
        </div>
      </div>

      <!-- Bouton d'envoi -->
      <button type="submit" class="btn btn-primary w-100 py-2 shadow-sm" style="border-radius: 25px; font-weight: bold; transition: 0.3s ease-in-out;">
        <i class="bi bi-send"></i> Envoyer le lien
      </button>
    </form>

    <!-- Code de vérification affiché -->
    <div *ngIf="showCodePrompt" class="alert alert-info mt-3">
      <strong>Code envoyé :</strong> {{ verificationCode }}
    </div>

  <!-- Bouton vers new-password -->
  <div *ngIf="showCodePrompt" class="text-center mt-3">
    <a routerLink="/verifey" class="btn btn-success fw-bold" style="border-radius: 25px;">
      <i class="bi bi-key"></i> Vérification de code 
    </a>
  </div>

    <!-- Lien retour -->
    <div class="text-center mt-3">
      <a routerLink="/login" class="text-primary fw-bold text-decoration-none">
        <i class="bi bi-arrow-left"></i> Retour à la connexion
      </a>
    </div>
  </div>
</div>
